<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrew Harvey">
<meta name="dcterms.date" content="2024-05-24">

<title>Homework2 BaseR programming</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homework2 BaseR programming</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrew Harvey </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 24, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="task-1-basic-vector-practice" class="level2">
<h2 class="anchored" data-anchor-id="task-1-basic-vector-practice">Task 1: Basic Vector practice</h2>
<p>Suppose we have data from a medical experiment on blood pressure. We have the following pre-treatment values for subjects 1 through 20:</p>
<ul>
<li>130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135</li>
</ul>
<p>after treatment, the subjects were measured again (subjects 1 through 20 match)</p>
<ul>
<li>114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113</li>
</ul>
<ol type="1">
<li>Create two vectors. One vector corresponding to the pre measurements and one to the post measurements.</li>
</ol>
<ul>
<li><strong>This code chunk will take the given measurements and will combine them into an appropriate vector using “c()”.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create first vector corresponding to first measurement</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>measurement1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">130</span>, <span class="dv">128</span>, <span class="dv">116</span>, <span class="dv">124</span>, <span class="dv">133</span>, <span class="dv">134</span>, <span class="dv">118</span>, <span class="dv">126</span>, <span class="dv">114</span>, <span class="dv">127</span>, <span class="dv">141</span>, <span class="dv">138</span>, <span class="dv">128</span>, <span class="dv">140</span>, <span class="dv">137</span>, <span class="dv">131</span>, <span class="dv">120</span>, <span class="dv">128</span>, <span class="dv">139</span>, <span class="dv">135</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create second vector corresponding to second measurement</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>measurement2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">114</span>, <span class="dv">98</span>, <span class="dv">113</span>, <span class="dv">99</span>, <span class="dv">107</span>, <span class="dv">116</span>, <span class="dv">113</span>, <span class="dv">111</span>, <span class="dv">119</span>, <span class="dv">117</span>, <span class="dv">101</span>, <span class="dv">119</span>, <span class="dv">130</span>, <span class="dv">122</span>, <span class="dv">106</span>, <span class="dv">106</span>, <span class="dv">124</span>, <span class="dv">102</span>, <span class="dv">117</span>, <span class="dv">113</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># check</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(measurement1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 130 128 116 124 133 134 118 126 114 127 141 138 128 140 137 131 120 128 139
[20] 135</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(measurement2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 114  98 113  99 107 116 113 111 119 117 101 119 130 122 106 106 124 102 117
[20] 113</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Assign names to the vector elements using the paste() function. Note that names() can be overwritten by a character vector. To quickly create the names, try running the code</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Subject"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">sep =</span> <span class="st">"_"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Subject_1"  "Subject_2"  "Subject_3"  "Subject_4"  "Subject_5" 
 [6] "Subject_6"  "Subject_7"  "Subject_8"  "Subject_9"  "Subject_10"
[11] "Subject_11" "Subject_12" "Subject_13" "Subject_14" "Subject_15"
[16] "Subject_16" "Subject_17" "Subject_18" "Subject_19" "Subject_20"</code></pre>
</div>
</div>
<div class="line-block">&nbsp;&nbsp;Create the same names for each vector’s elements.</div>
<ul>
<li><strong>This code chunk will use the R paste() function to assign names to the the previously created vectors.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#assign names to first measurement</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(measurement1) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Subject"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(measurement1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
       130        128        116        124        133        134        118 
 Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 
       126        114        127        141        138        128        140 
Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 
       137        131        120        128        139        135 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#assign names to second measurement</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(measurement2) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Subject"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(measurement2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
       114         98        113         99        107        116        113 
 Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 
       111        119        117        101        119        130        122 
Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 
       106        106        124        102        117        113 </code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Calculate the change in blood pressure for each patient by subtracting post-treatment measurements from pre-treatment measurements. Recall the R does math elementwise! Save this calculation as a new object in R (also a vector).</li>
</ol>
<ul>
<li><strong>This chunk finds the difference between the Pre_bp and Post_bp, then stores it in a new vector.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create a new object "results" bu subtracting second measurement from first</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> measurement1 <span class="sc">-</span> measurement2</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
        16         30          3         25         26         18          5 
 Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 
        15         -5         10         40         19         -2         18 
Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 
        31         25         -4         26         22         22 </code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Calculate the average decrease in blood pressure across all patients.</li>
</ol>
<ul>
<li><strong>This chunk finds the average decrease in bp by using the R mean() function. </strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find the average decrease across all patients</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>average_decrease <span class="ot">&lt;-</span> <span class="fu">mean</span>(results)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(average_decrease)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17</code></pre>
</div>
</div>
<p>5 Determine which patients experienced a decrease in blood pressure after treatment (a positive change). Using which() function to just return the indices (and names) associated with this type of change.</p>
<ul>
<li><strong>This chunk uses the R which() function to find Subjects that have observations greater than zero, signifying that they saw a positive change in blood pressure.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Return subjects that had a positive reaction to the treatment</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pos_reactions<span class="ot">&lt;-</span><span class="fu">which</span>(results<span class="sc">&gt;</span><span class="dv">0</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>pos_reactions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
         1          2          3          4          5          6          7 
 Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 
         8         10         11         12         14         15         16 
Subject_18 Subject_19 Subject_20 
        18         19         20 </code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Subset the vector of differences to only return those that have a positive change.</li>
</ol>
<ul>
<li><strong>This chunk subsets the results to only include those that had positive reactions to the treatment and stores them in a new vector.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#new results store only subjects that have a positive reactions to treatments</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>new_results <span class="ot">&lt;-</span> results[pos_reactions]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>new_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
        16         30          3         25         26         18          5 
 Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 
        15         10         40         19         18         31         25 
Subject_18 Subject_19 Subject_20 
        26         22         22 </code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Calculate the average decrease in blood pressure for those where the blood pressure decreased (positive change).</li>
</ol>
<ul>
<li><strong>This chunk finds the average change of the new results vector using the R mean() function.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Store new average</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>average_decrease_pos_reaction <span class="ot">&lt;-</span> <span class="fu">mean</span>(new_results)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>average_decrease_pos_reaction</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20.64706</code></pre>
</div>
</div>
</section>
<section id="task-2-basic-data-frame-practice" class="level2">
<h2 class="anchored" data-anchor-id="task-2-basic-data-frame-practice">Task 2: Basic Data Frame practice</h2>
<p>Continue the previous example.</p>
<ol type="1">
<li>Create a data frame object with four columns corresponding to your data above: patient, pre_bp, post_bp and diff_bp.</li>
</ol>
<ul>
<li><strong>This chunk creates data frame with 20 rows, and 4 variables. The 4 variables are the 4 vectors that were created earlier.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a data frame from previous vectors</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">patient =</span> <span class="fu">names</span>(measurement1),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">pre_bp =</span> measurement1,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">post_bp =</span> measurement2,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">diff_bp =</span> results)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Check</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp
1   Subject_1    130     114      16
2   Subject_2    128      98      30
3   Subject_3    116     113       3
4   Subject_4    124      99      25
5   Subject_5    133     107      26
6   Subject_6    134     116      18
7   Subject_7    118     113       5
8   Subject_8    126     111      15
9   Subject_9    114     119      -5
10 Subject_10    127     117      10
11 Subject_11    141     101      40
12 Subject_12    138     119      19
13 Subject_13    128     130      -2
14 Subject_14    140     122      18
15 Subject_15    137     106      31
16 Subject_16    131     106      25
17 Subject_17    120     124      -4
18 Subject_18    128     102      26
19 Subject_19    139     117      22
20 Subject_20    135     113      22</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Return only rows where the diff_bp column is negative. (Use[ or learn about the subset() function if you’d like. If you use [, don’t reference the original vector from the first part, access the column of the data frame when looking at making a comparison.)</li>
</ol>
<ul>
<li><strong>This chunk finds observations in the diff_bp variable that are less than 0, then prints out the data frame with out the rows that that contain the aforementioned observations.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find which rows of variable diff_bp in df are greater than 0</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">which</span>(df<span class="sc">$</span>diff_bp<span class="sc">&lt;</span><span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 13 17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print df with rows of variable diff_bp in df are greater than 0 removed</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">13</span>,<span class="dv">17</span>),])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp
1   Subject_1    130     114      16
2   Subject_2    128      98      30
3   Subject_3    116     113       3
4   Subject_4    124      99      25
5   Subject_5    133     107      26
6   Subject_6    134     116      18
7   Subject_7    118     113       5
8   Subject_8    126     111      15
10 Subject_10    127     117      10
11 Subject_11    141     101      40
12 Subject_12    138     119      19
14 Subject_14    140     122      18
15 Subject_15    137     106      31
16 Subject_16    131     106      25
18 Subject_18    128     102      26
19 Subject_19    139     117      22
20 Subject_20    135     113      22</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Add a new column to the data frame corresponding to TRUE if the post_bp is less than 120. Recall you can use $ to access a column. If you reference a column that doesn’t exist, and save a vector (of appropriate length in it), that vector becomes a column of your data frame! Similar to the previous question, don’t reference the original vector from the first part, access the column of the data frame when looking at making a comparison.</li>
</ol>
<ul>
<li><strong>This chunk adds a variable to the data frame that returns TRUE or FALSE based on whether the post_bp was less than 120 or not.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#add Boolean column where post_bp less than 120 </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>low_bp <span class="ot">&lt;-</span> df<span class="sc">$</span>post_bp[]<span class="sc">&lt;</span><span class="dv">120</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check df</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    130     114      16   TRUE
2   Subject_2    128      98      30   TRUE
3   Subject_3    116     113       3   TRUE
4   Subject_4    124      99      25   TRUE
5   Subject_5    133     107      26   TRUE
6   Subject_6    134     116      18   TRUE
7   Subject_7    118     113       5   TRUE
8   Subject_8    126     111      15   TRUE
9   Subject_9    114     119      -5   TRUE
10 Subject_10    127     117      10   TRUE
11 Subject_11    141     101      40   TRUE
12 Subject_12    138     119      19   TRUE
13 Subject_13    128     130      -2  FALSE
14 Subject_14    140     122      18  FALSE
15 Subject_15    137     106      31   TRUE
16 Subject_16    131     106      25   TRUE
17 Subject_17    120     124      -4  FALSE
18 Subject_18    128     102      26   TRUE
19 Subject_19    139     117      22   TRUE
20 Subject_20    135     113      22   TRUE</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Finally, print the data frame out nicely in your final document by modifying the code below appropriately.</li>
</ol>
<ul>
<li><strong>This prints a formatted data frame.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">patient</th>
<th style="text-align: right;">pre_bp</th>
<th style="text-align: right;">post_bp</th>
<th style="text-align: right;">diff_bp</th>
<th style="text-align: left;">low_bp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Subject_1</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_2</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_3</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_4</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_5</td>
<td style="text-align: right;">133</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_6</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_7</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_8</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">111</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_9</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">-5</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_10</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_11</td>
<td style="text-align: right;">141</td>
<td style="text-align: right;">101</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_12</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_13</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">-2</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_14</td>
<td style="text-align: right;">140</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_15</td>
<td style="text-align: right;">137</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_16</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_17</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">-4</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_18</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_19</td>
<td style="text-align: right;">139</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_20</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="task-3-list-practice" class="level2">
<h2 class="anchored" data-anchor-id="task-3-list-practice">Task 3: List practice</h2>
<p>Continue the previous example. Suppose we now also have data from another experiment where the ‘treatment’ was actually a placebo.</p>
<p>We have the following pre-treatment values for subjects 1 through 10 (different set of subjects):</p>
<ul>
<li>138, 135, 147, 117, 152, 134, 114, 121, 131, 130</li>
</ul>
<p>after treatment, the subjects were measured again(subjects 1 through 10 match)</p>
<ul>
<li>105, 136, 123, 130, 134, 143, 135, 139, 120, 124</li>
</ul>
<ol type="1">
<li>Create a new data frame with this data in it that is similar to the data frame from task 2 (including the new column).</li>
</ol>
<ul>
<li><strong>This chunk creates a new data frame with 10 rows and 4 variables. It then adds a variable of TRUE/FALSE.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creates a new data frame from the information provided</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>exp2_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">patient =</span> <span class="fu">paste</span>(<span class="st">"Subject"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">"_"</span>),</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">pre_bp =</span> <span class="fu">c</span>(<span class="dv">138</span>, <span class="dv">135</span>, <span class="dv">147</span>, <span class="dv">117</span>, <span class="dv">152</span>, <span class="dv">134</span>, <span class="dv">114</span>, <span class="dv">121</span>, <span class="dv">131</span>, <span class="dv">130</span>),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">post_bp =</span> <span class="fu">c</span>(<span class="dv">105</span>, <span class="dv">136</span>, <span class="dv">123</span>, <span class="dv">130</span>, <span class="dv">134</span>, <span class="dv">143</span>, <span class="dv">135</span>, <span class="dv">139</span>, <span class="dv">120</span>, <span class="dv">124</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">#add difference column</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>exp2_df<span class="sc">$</span>diff_bp <span class="ot">&lt;-</span> exp2_df<span class="sc">$</span>post_bp <span class="sc">-</span> exp2_df<span class="sc">$</span>pre_bp</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Add Boolean column</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>exp2_df<span class="sc">$</span>low_bp<span class="ot">&lt;-</span>exp2_df<span class="sc">$</span>post_bp[]<span class="sc">&lt;</span><span class="dv">120</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">#print new data frame</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>exp2_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    138     105     -33   TRUE
2   Subject_2    135     136       1  FALSE
3   Subject_3    147     123     -24  FALSE
4   Subject_4    117     130      13  FALSE
5   Subject_5    152     134     -18  FALSE
6   Subject_6    134     143       9  FALSE
7   Subject_7    114     135      21  FALSE
8   Subject_8    121     139      18  FALSE
9   Subject_9    131     120     -11  FALSE
10 Subject_10    130     124      -6  FALSE</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Now create and store a list with two elements:</li>
</ol>
<ul>
<li><p>1st element names treatment and contains the first data frame you created +2nd element named placebo and contains the second data frame you created</p></li>
<li><p><strong>This chunk creates a list using the two data frames that were previously created, and prints the list.</strong></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a list of the two data frames</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">treatement =</span> df,<span class="at">placebo =</span>exp2_df)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Check list</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$treatement
      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    130     114      16   TRUE
2   Subject_2    128      98      30   TRUE
3   Subject_3    116     113       3   TRUE
4   Subject_4    124      99      25   TRUE
5   Subject_5    133     107      26   TRUE
6   Subject_6    134     116      18   TRUE
7   Subject_7    118     113       5   TRUE
8   Subject_8    126     111      15   TRUE
9   Subject_9    114     119      -5   TRUE
10 Subject_10    127     117      10   TRUE
11 Subject_11    141     101      40   TRUE
12 Subject_12    138     119      19   TRUE
13 Subject_13    128     130      -2  FALSE
14 Subject_14    140     122      18  FALSE
15 Subject_15    137     106      31   TRUE
16 Subject_16    131     106      25   TRUE
17 Subject_17    120     124      -4  FALSE
18 Subject_18    128     102      26   TRUE
19 Subject_19    139     117      22   TRUE
20 Subject_20    135     113      22   TRUE

$placebo
      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    138     105     -33   TRUE
2   Subject_2    135     136       1  FALSE
3   Subject_3    147     123     -24  FALSE
4   Subject_4    117     130      13  FALSE
5   Subject_5    152     134     -18  FALSE
6   Subject_6    134     143       9  FALSE
7   Subject_7    114     135      21  FALSE
8   Subject_8    121     139      18  FALSE
9   Subject_9    131     120     -11  FALSE
10 Subject_10    130     124      -6  FALSE</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Access the first list element using three different types of syntax.</li>
</ol>
<ul>
<li><strong>This chunk uses three different ways to access the first element of the list. The first uses the list index, the second uses the name of the element, and the third uses “$”.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#access first element of list using [1] </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$treatement
      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    130     114      16   TRUE
2   Subject_2    128      98      30   TRUE
3   Subject_3    116     113       3   TRUE
4   Subject_4    124      99      25   TRUE
5   Subject_5    133     107      26   TRUE
6   Subject_6    134     116      18   TRUE
7   Subject_7    118     113       5   TRUE
8   Subject_8    126     111      15   TRUE
9   Subject_9    114     119      -5   TRUE
10 Subject_10    127     117      10   TRUE
11 Subject_11    141     101      40   TRUE
12 Subject_12    138     119      19   TRUE
13 Subject_13    128     130      -2  FALSE
14 Subject_14    140     122      18  FALSE
15 Subject_15    137     106      31   TRUE
16 Subject_16    131     106      25   TRUE
17 Subject_17    120     124      -4  FALSE
18 Subject_18    128     102      26   TRUE
19 Subject_19    139     117      22   TRUE
20 Subject_20    135     113      22   TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#access first element of list using ["name"] </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list[<span class="st">"treatement"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$treatement
      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    130     114      16   TRUE
2   Subject_2    128      98      30   TRUE
3   Subject_3    116     113       3   TRUE
4   Subject_4    124      99      25   TRUE
5   Subject_5    133     107      26   TRUE
6   Subject_6    134     116      18   TRUE
7   Subject_7    118     113       5   TRUE
8   Subject_8    126     111      15   TRUE
9   Subject_9    114     119      -5   TRUE
10 Subject_10    127     117      10   TRUE
11 Subject_11    141     101      40   TRUE
12 Subject_12    138     119      19   TRUE
13 Subject_13    128     130      -2  FALSE
14 Subject_14    140     122      18  FALSE
15 Subject_15    137     106      31   TRUE
16 Subject_16    131     106      25   TRUE
17 Subject_17    120     124      -4  FALSE
18 Subject_18    128     102      26   TRUE
19 Subject_19    139     117      22   TRUE
20 Subject_20    135     113      22   TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#access first element of list using $</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list<span class="sc">$</span>treatement)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp low_bp
1   Subject_1    130     114      16   TRUE
2   Subject_2    128      98      30   TRUE
3   Subject_3    116     113       3   TRUE
4   Subject_4    124      99      25   TRUE
5   Subject_5    133     107      26   TRUE
6   Subject_6    134     116      18   TRUE
7   Subject_7    118     113       5   TRUE
8   Subject_8    126     111      15   TRUE
9   Subject_9    114     119      -5   TRUE
10 Subject_10    127     117      10   TRUE
11 Subject_11    141     101      40   TRUE
12 Subject_12    138     119      19   TRUE
13 Subject_13    128     130      -2  FALSE
14 Subject_14    140     122      18  FALSE
15 Subject_15    137     106      31   TRUE
16 Subject_16    131     106      25   TRUE
17 Subject_17    120     124      -4  FALSE
18 Subject_18    128     102      26   TRUE
19 Subject_19    139     117      22   TRUE
20 Subject_20    135     113      22   TRUE</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>In one line, access the placebo data frame, pre_bp.</li>
</ol>
<ul>
<li><strong>This chunk uses both “$” and a column name to access the pre_bp variable.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#use subsetting to access placebo pre_bp</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list<span class="sc">$</span>placebo[<span class="st">"pre_bp"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   pre_bp
1     138
2     135
3     147
4     117
5     152
6     134
7     114
8     121
9     131
10    130</code></pre>
</div>
</div>
</section>
<section id="task-4-control-flow-practice" class="level2">
<h2 class="anchored" data-anchor-id="task-4-control-flow-practice">Task 4: Control Flow Practice</h2>
<p>Continue the previous example.</p>
<ol type="1">
<li>Suppose we want to characterize the post-treatment (or placebo) blood pressure measurement as optimal (&lt;= 120), borderline (120 &lt; bp &lt; 130), and high (&gt;130). First, create a new column in each data frame from above called status. You can do this via</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>your_df<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">20</span>) <span class="co">#or 10 depending on number of observations</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note: You want to do this additional column to the data frames that are stored in your list (R doesn’t do referencing to the original object).</p>
<ul>
<li><strong>This chunk adds an empty variable named “status” to the treatment data frame within the list.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>treatement<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">20</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>For the non-placebo data frame (within the list), create a for loop and use if/then/else logic to create the status column’s values.</li>
</ol>
<ul>
<li><strong>This chunk combines a loop and an if/else if statement to populate the status variable. The loop will iterate 20 times (one for each row) while the if/else if statements will check the post_bp variable within the treatment data frame within the list and compare it to a value. based on the result of the comparison it will populate the status variable with “high”, “optimal”, “low”, or “error”.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create for loop with to run 20 times, evaluates i with conditions using if/else if and populates status</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(my_list<span class="sc">$</span>treatement<span class="sc">$</span>post_bp[i]<span class="sc">&gt;=</span><span class="dv">130</span>){</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    my_list<span class="sc">$</span>treatement<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"high"</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(my_list<span class="sc">$</span>treatement<span class="sc">$</span>post_bp[i]<span class="sc">&lt;</span><span class="dv">130</span> <span class="sc">&amp;</span> my_list<span class="sc">$</span>treatement<span class="sc">$</span>post_bp[i]<span class="sc">&gt;</span><span class="dv">120</span>){</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>      my_list<span class="sc">$</span>treatement<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"borderline"</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(my_list<span class="sc">$</span>treatement<span class="sc">$</span>post_bp[i]<span class="sc">&lt;=</span><span class="dv">120</span>){</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>        my_list<span class="sc">$</span>treatement<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"optimal"</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span>{</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>          my_list<span class="sc">$</span>treatement<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"error"</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list<span class="sc">$</span>treatement[,<span class="fu">c</span>(<span class="st">"post_bp"</span>, <span class="st">"status"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   post_bp     status
1      114    optimal
2       98    optimal
3      113    optimal
4       99    optimal
5      107    optimal
6      116    optimal
7      113    optimal
8      111    optimal
9      119    optimal
10     117    optimal
11     101    optimal
12     119    optimal
13     130       high
14     122 borderline
15     106    optimal
16     106    optimal
17     124 borderline
18     102    optimal
19     117    optimal
20     113    optimal</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Repeat for the placebo data frame (within the list).</li>
</ol>
<ul>
<li><strong>This chunk executes the same function as the previous chunk.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create for loop with to run 10 times, evaluates i with conditions using if/else if and populates status</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(my_list<span class="sc">$</span>placebo<span class="sc">$</span>post_bp[i]<span class="sc">&gt;=</span><span class="dv">130</span>){</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    my_list<span class="sc">$</span>placebo<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"high"</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(my_list<span class="sc">$</span>placebo<span class="sc">$</span>post_bp[i]<span class="sc">&lt;</span><span class="dv">130</span> <span class="sc">&amp;</span> my_list<span class="sc">$</span>placebo<span class="sc">$</span>post_bp[i]<span class="sc">&gt;</span><span class="dv">120</span>){</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>      my_list<span class="sc">$</span>placebo<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"borderline"</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(my_list<span class="sc">$</span>placebo<span class="sc">$</span>post_bp[i]<span class="sc">&lt;=</span><span class="dv">120</span>){</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        my_list<span class="sc">$</span>placebo<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"optimal"</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span>{</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>          my_list<span class="sc">$</span>placebo<span class="sc">$</span>status[i] <span class="ot">=</span> <span class="st">"error"</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_list<span class="sc">$</span>placebo[,<span class="fu">c</span>(<span class="st">"post_bp"</span>, <span class="st">"status"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   post_bp     status
1      105    optimal
2      136       high
3      123 borderline
4      130       high
5      134       high
6      143       high
7      135       high
8      139       high
9      120    optimal
10     124 borderline</code></pre>
</div>
</div>
</section>
<section id="task-5-function-writing" class="level2">
<h2 class="anchored" data-anchor-id="task-5-function-writing">Task 5: Function Writing</h2>
<p>Continue the previous example. Suppose you would eventually have many data sets in the form of the two above. You want to write a function to do some things for you quickly.</p>
<ol type="1">
<li>Write a function that</li>
</ol>
<ul>
<li><p>takes in a list with two data frames in it (a treatment and placebo data frame) as an argument. Give no default value.</p></li>
<li><p>takes in an R function (that would find a summary of a numeric column) with the default value being set to “mean”(notice this is a quoted sting).</p></li>
<li><p>Finds the statistic of interest (as defined by the user input) for the pre, post, and diff columns of both data frames</p></li>
<li><p>Use my_fun &lt;- get(stat) within the function to get the function from the quoted string.</p></li>
<li><p>these six values should then be returned as a named list with meaningful name - this is a somewhat challenging part.</p></li>
<li><p>I’m going to let you consider what to do but you might create a vector of names that is created dynamically based on the statistic passed, create a vector with the actual statistic value, and assign names to you vector. then return that (an atomic vector with names can be returned instead of a list).</p></li>
<li><p>Finally, apply your function to your list of data frames from previous. Use it without specifying your statistic, with specifying you statistic as “var”, “sd”, “min”, and “max”.</p></li>
<li><p>You can render the document to check things are looking good. Make sure that all code chunks show (and are evaluated). <strong>Use headings to separate the sections.</strong> Write text before each code chunk explaining what you are trying to do. Use markdown where appropriate (to create lists, bold things, etc.),</p></li>
<li><p><strong>This chunk creates a function that has two arguments. The first is a list of 2 data frames, and the second is a string that has “mean” as the default. The function then changes the names of the data frames in the list to “treatment” and “placebo”. The function then creates the my_fun function using the R get() function. Next the function creates a numeric vector with 6 observations. Then it creates a character vector which will be used to populate the names of the stats vector. There are 2 nested loops with if/else if statements. The first nested loop is used the populate the stats vector. The outer loop is used to control which data frame (“treatment” or “placebo”) in the list the inner loop is accessing. The inner loop is used to control which variable (“pre_bp”, “post_bp”, or “diff_bp”) in the data frame is used. The if/else statement determines which method is used to populate the stats vector. The second loop operates the same way but populates the U_name vector using the R paste() function. Following the loops the function capitalized the U_names elements and assigns them as names to the stats vector. Finally the function returns the stats vector.</strong></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create function</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>display_stat <span class="ot">&lt;-</span> <span class="cf">function</span>(the_list, <span class="at">stat =</span> <span class="st">"mean"</span>){</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Name elements of list</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(the_list)<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"treatment"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"placebo"</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create get function that the user will define when calling the function</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  my_fun <span class="ot">&lt;-</span> <span class="fu">get</span>(stat)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create stats vector</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  stats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create U_name vector</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  U_name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">" "</span>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#for loop to control which data frame in the list is used</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>) {</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#for loop to control which variable in the data frame is used </span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>      <span class="co">#if/else statement to tell which method to use to populate stats vector</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(i <span class="sc">==</span><span class="dv">1</span>){</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">#fills stats vector elements from 1 to 3</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>        <span class="co">#uses my_fun and summary to access list element 1 variables 2 through 4 and return the statistic of interest</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>      stats[i<span class="sc">*</span>(j<span class="dv">-1</span>)]<span class="ot">&lt;-</span><span class="fu">my_fun</span>(<span class="fu">summary</span>(the_list[[i]][,j]))</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span>(i<span class="sc">==</span><span class="dv">2</span>){</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>        stats[i<span class="sc">+</span>j]<span class="ot">&lt;-</span><span class="fu">my_fun</span>(<span class="fu">summary</span>(the_list[[i]][,j]))</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#for loop to control which variable in the data frame is used </span></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>) {</span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#for loop to control which variable in the data frame is used </span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>      <span class="co">#if/else statement to tell which method to use to populate stats vector</span></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">#fills U_name using the paste function</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>         U_name[j<span class="dv">-1</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(the_list[<span class="dv">1</span>]),</span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">names</span>(the_list<span class="sc">$</span>treatment[j]), </span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>                         stat,</span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>                         <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>         U_name[i<span class="sc">+</span>j] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(the_list[<span class="dv">2</span>]),</span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">names</span>(the_list<span class="sc">$</span>treatment[j]), </span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>                         stat,</span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>                         <span class="at">sep =</span> <span class="st">"_"</span>) </span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Capitalizes U_name elements and assigns them as names to elements of the stats vector</span></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(stats) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(U_name)</span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>  <span class="co">#returns the stats vector</span></span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(stats)</span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a><span class="co">#Test the function</span></span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">display_stat</span>(my_list))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> TREATMENT_PRE_BP_MEAN TREATMENT_POST_BP_MEAN TREATMENT_DIFF_BP_MEAN 
             129.05833              112.80833               17.41667 
   PLACEBO_PRE_BP_MEAN   PLACEBO_POST_BP_MEAN   PLACEBO_DIFF_BP_MEAN 
             131.81667              127.98333               -3.62500 </code></pre>
</div>
</div>
<ul>
<li><strong>This chunk uses the custom function to find mean, variation, standard deviation, minimum, maximum of the elements of the my_list.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#test function default</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">display_stat</span>(my_list))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> TREATMENT_PRE_BP_MEAN TREATMENT_POST_BP_MEAN TREATMENT_DIFF_BP_MEAN 
             129.05833              112.80833               17.41667 
   PLACEBO_PRE_BP_MEAN   PLACEBO_POST_BP_MEAN   PLACEBO_DIFF_BP_MEAN 
             131.81667              127.98333               -3.62500 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#test function for variation</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">display_stat</span>(my_list,<span class="st">"var"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> TREATMENT_PRE_BP_VAR TREATMENT_POST_BP_VAR TREATMENT_DIFF_BP_VAR 
             84.72042             116.69042             230.06667 
   PLACEBO_PRE_BP_VAR   PLACEBO_POST_BP_VAR   PLACEBO_DIFF_BP_VAR 
            165.63667             170.68667             374.89375 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#test function for standard deviation</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">display_stat</span>(my_list,<span class="st">"sd"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> TREATMENT_PRE_BP_SD TREATMENT_POST_BP_SD TREATMENT_DIFF_BP_SD 
            9.204369            10.802334            15.167949 
   PLACEBO_PRE_BP_SD   PLACEBO_POST_BP_SD   PLACEBO_DIFF_BP_SD 
           12.869991            13.064711            19.362173 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="do">##test function for minimum</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">display_stat</span>(my_list,<span class="st">"min"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> TREATMENT_PRE_BP_MIN TREATMENT_POST_BP_MIN TREATMENT_DIFF_BP_MIN 
                  114                    98                    -5 
   PLACEBO_PRE_BP_MIN   PLACEBO_POST_BP_MIN   PLACEBO_DIFF_BP_MIN 
                  114                   105                   -33 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#test function for maximum</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">display_stat</span>(my_list,<span class="st">"max"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> TREATMENT_PRE_BP_MAX TREATMENT_POST_BP_MAX TREATMENT_DIFF_BP_MAX 
                  141                   130                    40 
   PLACEBO_PRE_BP_MAX   PLACEBO_POST_BP_MAX   PLACEBO_DIFF_BP_MAX 
                  152                   143                    21 </code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>